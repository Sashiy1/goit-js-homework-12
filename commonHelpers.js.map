{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst elementsContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loadButton = document.querySelector('.loading-button');\nconst BASE_URL = 'https://pixabay.com/api/';\nconst queryParams = {\n  query: '',\n  apiKey: '41967229-af64f083e47c21f795887158a',\n  orientation: 'horizontal',\n  image_type: 'photo',\n  safesearch: 'true',\n  per_page: 40,\n  page: 1,\n};\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', handleSubmit);\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  elementsContainer.innerHTML = '';\n  queryParams.page = 1;\n  queryParams.query =\n    event.currentTarget.elements.serching.value.trim();\n  \n  if (!queryParams.query) {\n    return;\n  }\n  try {\n    const {hits, totalHits} = await searchPictures(queryParams);\n  \n   console.log({hits, totalHits})\n  \n   console.log(\"ayay\")\n\n   queryParams.maxPage = Math.ceil(totalHits / queryParams.per_page);\n\n   console.log(\"bbbb\")\n   console.log(queryParams)\n  \n\n  } catch (error) {\n    console.log(error)\n  }\n\n  \n}\n\nasync function searchPictures({ query, page = 1, per_page }) {\n \n    return await axios.get(`${BASE_URL}`, {\n      params: {\n        \n        key: '41967229-af64f083e47c21f795887158a',\n        q: query,\n        orientation: 'horizontal',\n        image_type: 'photo',\n        safesearch: 'true',\n        per_page,\n        page,\n        \n      },\n    }).then(({ data }) => data);\n    \n}\n\n// function onError() {\n//   loader.classList.add('hidden');\n//   elementsContainer.innerHTML = '';\n//   iziToast.show({\n//     message:\n//       'Sorry, there are no images matching your search query. Please try again!',\n//     position: 'topRight',\n//     backgroundColor: '#EF4040',\n//     titleColor: '#FFFFFF',\n//     messageColor: '#FFFFFF',\n//   });\n// }\n"],"names":["form","elementsContainer","BASE_URL","queryParams","SimpleLightbox","handleSubmit","event","hits","totalHits","searchPictures","error","query","page","per_page","axios","data"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAoB,SAAS,cAAc,UAAU,EAC5C,SAAS,cAAc,SAAS,EAC5B,SAAS,cAAc,iBAAiB,EAC3D,MAAMC,EAAW,2BACXC,EAAc,CAClB,MAAO,GACP,OAAQ,qCACR,YAAa,aACb,WAAY,QACZ,WAAY,OACZ,SAAU,GACV,KAAM,CACR,EAEiB,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,eAAeA,EAAaC,EAAO,CAOjC,GANAA,EAAM,eAAc,EACpBL,EAAkB,UAAY,GAC9BE,EAAY,KAAO,EACnBA,EAAY,MACVG,EAAM,cAAc,SAAS,SAAS,MAAM,KAAI,EAE9C,EAACH,EAAY,MAGjB,GAAI,CACF,KAAM,CAAC,KAAAI,EAAM,UAAAC,CAAS,EAAI,MAAMC,EAAeN,CAAW,EAE3D,QAAQ,IAAI,CAAC,KAAAI,EAAM,UAAAC,CAAS,CAAC,EAE7B,QAAQ,IAAI,MAAM,EAElBL,EAAY,QAAU,KAAK,KAAKK,EAAYL,EAAY,QAAQ,EAEhE,QAAQ,IAAI,MAAM,EAClB,QAAQ,IAAIA,CAAW,CAGvB,OAAQO,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CAGH,CAEA,eAAeD,EAAe,CAAE,MAAAE,EAAO,KAAAC,EAAO,EAAG,SAAAC,CAAQ,EAAI,CAEzD,OAAO,MAAMC,EAAM,IAAI,GAAGZ,IAAY,CACpC,OAAQ,CAEN,IAAK,qCACL,EAAGS,EACH,YAAa,aACb,WAAY,QACZ,WAAY,OACZ,SAAAE,EACA,KAAAD,CAED,CACF,CAAA,EAAE,KAAK,CAAC,CAAE,KAAAG,CAAM,IAAKA,CAAI,CAE9B"}